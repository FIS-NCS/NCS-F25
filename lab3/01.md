# Common Attacks

> <https://developer.mozilla.org/en-US/docs/Web/Security/Attacks>

Common attacks against web applications:

- [Clickjacking](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/Clickjacking)

  An attacker creates a decoy site which embeds the target site inside an [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/iframe) element. It hides the `<iframe>`, and overlays some decoy elements on top of it. When the user interacts with these decoy elements, they are inadvertently interacting with the target site, and may be tricked into performing actions with the target site which they did not intend.

- [Cross-site request forgery (CSRF)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/CSRF)

  An attacker tricks the user or the browser into making an HTTP request to the target site from a malicious site. The request includes the user's credentials and causes the server to carry out some harmful action, thinking that the user intended it.

- [Cross-site leaks (XS-Leaks)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XS-Leaks)

  A class of attack in which an attacker's site can derive information about the target site, or about the user's relationship with the target site, by using web platform APIs that enable sites to interact with one another.

- [Cross-site scripting (XSS)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS)

  A website accepts some input crafted by the attacker and mistakenly includes this input in the site's own pages in a way that makes the browser execute it as code. The malicious code can then do anything that the site's own front-end code could do.

- [Insecure Direct Object Reference (IDOR)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/IDOR)

  The attacker takes advantage of insufficient access control and insecure exposure of object identifiers, such as database keys or file paths.

- [Manipulator in the Middle (MITM)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/MITM)

  The attacker inserts themselves between the user's browser and the server, and can see and potentially modify any of the traffic exchanged over HTTP.

- [Phishing](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/Phishing)

  A social engineering attack in which the attacker steals a user's credentials by tricking them into believing they are signing into the target site, when in reality they are interacting with a fake site controlled by the attacker.

- [Prototype pollution](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/Prototype_pollution)

  A JavaScript vulnerability where an attacker can add or modify properties on an object's prototype. This means malicious values can unexpectedly appear on objects in your application, often leading to logic errors or additional attacks like cross-site scripting (XSS).

- [Server Side Request Forgery (SSRF)](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/SSRF)

  A vulnerability that allows an attacker to make HTTP (or other network) requests to arbitrary destinations. SSRF makes these requests originate from within a server itself, which typically has broader access than an external client.

- [Subdomain takeover](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/Subdomain_takeover)

  The attacker gains control over a subdomain of a target domain.

- [Supply chain attacks](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/Supply_chain_attacks)
  
  The attacker compromises part of the site's supply chain, such as any third-party dependencies that it uses.

## Practice

[OWASP SKF labs](<https://secureby.design/labs>) provides vulnerable-by-design containers to practice specific exploits.

1. Run a vulnerable app container (optionally in the same lab network to be reachable from web terminal)

    ```shell
    docker run -it -d --name xss --network lab_net \
        -p 127.0.0.1:5000:5000 blabla1337/owasp-skf-lab:xss
    ```

2. Application should be reachable from web terminal `curl xss:5000` and your host at <http://localhost:5000>

3. Read about the [vulnerability](https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS) and try to exploit it. Most tasks are relatively straightforward.

4. Refer to the [writeups](https://skf.gitbook.io/asvs-write-ups/) if you get stuck, or want to learn more after solving.

5. Replace `xss` with `stored-xss`, `idor`, `lfi`, `cmd`, `sqli`, `csrf`, `ssrf`, `ssti` to deploy and practice other recommended labs.
